# AI提示词文件结构说明

## 概述
为了提高提示词的管理效率和可维护性，我们将原来集中在一个文件中的提示词拆分为多个独立的JSON文件，每个功能模块对应一个文件。

## 文件结构
```
novel_repo/ai_prompts/
├── README.md              # 本说明文件
├── expand.json            # 扩写提示词（句子扩写、段落扩写）
├── polish.json            # 润色提示词（句子润色、段落润色）
├── summary.json           # 总结提示词（章节概要等）
├── world.json             # 世界观提示词（随机生成、定向生成）
├── inspiration.json       # 灵感提示词（主体故事灵感等）
├── character.json         # 角色提示词（各种角色类型的生成提示词）
└── styles.json            # 风格提示词（当前风格、历史风格）
```

## 文件格式
每个JSON文件都包含该功能模块的所有相关提示词，格式如下：

### expand.json 示例
```json
{
  "sentence": "句子扩写的提示词内容...",
  "paragraph": "段落扩写的提示词内容..."
}
```

### character.json 示例
```json
{
  "roles": {
    "女主角": {
      "prompt": "女主人设生成的提示词...",
      "style": "细腻而不拖沓，情感真实，逻辑自洽。"
    },
    "男主角": {
      "prompt": "男主人设生成的提示词...",
      "style": "克制有力，张力与反差兼具。"
    }
  },
  "schema_hint": "输出JSON友好可解析，字段名固定..."
}
```

## 优势
1. **模块化管理**：每个功能模块的提示词独立管理，便于维护
2. **易于编辑**：可以单独编辑某个功能的提示词，不会影响其他功能
3. **版本控制友好**：Git等版本控制系统可以更好地跟踪单个文件的变化
4. **团队协作**：不同开发者可以同时编辑不同功能的提示词
5. **向后兼容**：系统会自动回退到旧的文件结构，确保平滑过渡

## 使用方法
1. **编辑提示词**：直接编辑对应的JSON文件
2. **添加新功能**：创建新的JSON文件，系统会自动识别
3. **删除功能**：删除对应的JSON文件即可
4. **前端管理**：通过AI提示词管理界面进行可视化编辑

## 注意事项
- 保持JSON格式的正确性
- 文件名必须与功能模块名称一致
- 建议在编辑前备份原文件
- 系统会自动合并小说级和全局级的提示词配置

## 迁移说明
如果您之前使用的是集中的提示词文件，系统会自动读取新结构，同时保持向后兼容。建议逐步迁移到新的文件结构以获得更好的管理体验。
